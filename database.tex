\chapter{The Database File}\label{ch:database}

This chapter is intended as a basic introduction to database files. It
deals only with commonly used types of source, leaving the more
obscure corners to the manual. It starts from the ground up, for those
who have no \bibtex\ or \biblatex\ experience. Those who are familiar
with \bibtex\ already can probably skim the first part, but should
read the later parts fairly carefully because \biblatex\, with
\package{Biber} is slightly different and considerably more powerful
than \bibtex.

The chapter gives examples of some |.bib| files and output they will
produce. Do bear in mind that the precise form of the output is
\emph{dependent on the style chosen}: the examples are intended to
help illustrate the general principles, but different styles may
select from and format the data in different ways. The rest of the
book is all about how to control such output. This chapter is about
the input, and the examples are only there to give colour.

\section{From ground up}
\index{.bib file@\texttt{.bib} file|see{database}}%
\index{database!general description}
The \package{Biber} program, which prepares data for use by \biblatex,
can read a number of different formats; but only one is (at the
moment) really fully supported, and that is the format you should
use. It is a format originally developed for \bibtex. It is simple. It
can be written by hand, or produced with the assistance of specialised
software.

The \bibtex\ format database file conventionally has the suffix
\verb|.bib|. It is a `plain text' file which (with \package{Biber})
can use any unicode characters.

It consists of a number of `entries', each of which relates to a
particular bibliographical source. Each entry consists of an
\emph{entrytype specifier} which explains what sort of source it is:
like book, or article; a \emph{key} which uniquely identifies the
source and which you will use for citations; and a set of
\emph{fields} which contain bibliographical data about the work. The
basic structure of such a record is shown in figure
\ref{basic:source:eg}.

\begin{figure*}
\strut\vspace{2ex}

\begin{minipage}[t]{1.5in}
\sffamily
\noindent
\tikz{\node(typekey){type};}

\vspace{10ex}

\noindent
\tikz{\node(fieldkey){fields};}

\end{minipage}
\begin{minipage}[t]{3in}
\ttfamily
\tikz{
  \node(entrytype)
       [text height=10pt, text depth=2pt, fill=red!30]{@book};
   \node(brace)[text height=10pt, text depth=2pt, xshift=5ex]{\{};
   \node(entrykey)
        [text height=10pt, text depth=2pt, fill=green!30,xshift=13ex]{nussbaum95};
   \node(keycomma)
        [circle, draw, xshift=23ex, yshift=-5pt, line width=1pt]{,};}
\quad\tikz{\node(authornode)[text height=10pt, text depth=2pt, fill=blue!25]{author = \{Nussbaum, Martha C.\}} ;
  \node(authorcomma)[circle, draw, xshift=22ex, yshift=-5pt, line width=1pt]{,} ;}\\
\quad\tikz{\node(titlenode)[text height=10pt, text depth=2pt, fill=blue!25]{title = \{Poetic Justice\}} ;
  \node(titlecomma)[circle, draw, xshift=18ex, yshift=-5pt, line width=1pt]{,} ;}\\
\quad\tikz{\node(publishernode)[text height=10pt, text depth=2pt, fill=blue!25]{publisher = \{Beacon Press\}} ;
  \node(publishercomma)[circle, draw, xshift=20ex, yshift=-5pt, line width=1pt]{,} ;}\\
\quad\tikz{\node(locationnode)[text height=10pt, text depth=2pt, fill=blue!25]{location = \{Boston\}} ;
  \node(locationcomma)[circle, draw, xshift=15ex, yshift=-5pt, line width=1pt]{,} ;}\\
\quad\tikz{\node(datenode)[text height=10pt, text depth=2pt, fill=blue!25]{date = \{1995\}} ;
  \node(datecomma)[circle, draw, xshift=11.5ex, yshift=-5pt, line width=1pt]{,} ;}\\
\tikz{\node(finalbrace)[text height=10pt, text depth=2pt]{\}};}
\end{minipage}
\begin{minipage}[t]{1in}
\raggedright
\sffamily
\noindent
\tikz{\node(keykey){key};}

\vspace{10ex}
\noindent
fields separated by commas
\end{minipage}
\begin{tikzpicture}[overlay]
\path[-stealth] (typekey.south) edge [out=-90, in=180] (entrytype.west) ;
\path[-stealth] (fieldkey.east) edge [out=0, in=180] (authornode.west) ;
\path[-stealth] (fieldkey.east) edge [out=0, in=180] (titlenode.west) ;
\path[-stealth] (fieldkey.east) edge [out=0, in=180] (publishernode.west) ;
\path[-stealth] (fieldkey.east) edge [out=0, in=180] (locationnode.west);
\path[-stealth] (fieldkey.east) edge [out=0, in=180] (datenode.west) ;
\path[-stealth] (keykey.west) edge [out=180, in=45] (entrykey.north east) ;
\end{tikzpicture}
\caption{A basic source record\label{basic:source:eg}}
\end{figure*}

\index{database!entry type}
The \emph{entrytype} specifier (\verb|@book|) in figure
\ref{basic:source:eg}) says what type of source this is. A large
number of different types are supported, which we will look at in due
course; indeed, in the end, the question is really what types are
supported by the particular style you are using, since styles can
define any type they like. But in this chapter we are going to look at
just four types:
\begin{description}
\item[Book] is used for an entry that consists of a complete physical
  book.
\item[Article] is used for journal articles.
\item[Inbook] is used for a self-contained chapter in a
  book.\intref{See p~\pageref{inbook:vs:incollection} for the
    difference between \texttt{inbook} and \texttt{incollection}.}
\item[Incollection] is used for a self-contained paper in a collection
  of papers.
\end{description}

The entry type specifier is not case sensitive: \verb|@book|,
\verb|@Book| and \verb|@BOOK| all mean the same thing.

\index{database!general description}
A source record, if you squint at it, takes the basic form
\begin{center}\verb|@entrytype{...}|\end{center}The very first thing
within the braces is the \verb|key|. This does not have to take any
particular form, but it does need to be \emph{unique} to the
particular source, and it should be something memorable enough and
short enough to be practical for you, since you will be using it in
documents you write.

Although a \verb|key| can include quite a range of characters, there
are some that you should avoid;\footnote{{\ttfamily
      \textquotedbl\ @ \textquotesingle\
      \textbackslash\ \# \{ \}
      \textasciitilde\ \%\ \textunderscore\
      \&\ \$\ , \textasciicircum}} nor may a
key include spaces. It's a good idea to be more-or-less consistent
in the form your keys take, and to use common sense. For instance,
\texttt{nussbaum:1995} or \texttt{nussbaum:poetic} might be quite
good keys, but \texttt{nb} could easily clash with others keys,
\texttt{nussbaum:1995:poetic-justice} is arguably too long, and
\texttt{nbpoj95} may be hard to remember or work with. Use your
common sense.

Immediately after the \verb|key|, place a comma. The rest of the
source record consists of a set of fields and values entered
(usually)\footnote{Occasionally neither braces nor quote marks are
    needed.} in either the form
\begin{center}\texttt{field = \{value\},}\end{center}
or, if you prefer, in the form
\begin{center}\texttt{field = "value",}\end{center}
Fields must be separated by commas. It is permissible (though not
required) to have a comma after the last one. I always make sure a
comma is added to every field: it makes editing easier, because if you
add another field you won't forget the comma.

The order in which you place the fields (apart from the |key|, which
must come first) doesn't matter. You can use whitespace freely between
fields and labels to keep things neat: as far as \package{Biber} is
concerned
\begin{Verbatim}
   author = {Allen, Sidney},
   title  = {Vox Latina},
\end{Verbatim}
is just the same as
\begin{Verbatim}
author={Allen, Sidney},title={Vox Latina}
\end{Verbatim}
but for human consumption sensible spacing helps to keep things tidy.

\index{unicode!database, in}
Within a field you can use any unicode characters, and you can include
\LaTeX\ code too, if you need to (though it's sometimes a bad idea,
especially in name fields, for reasons we will come to). Similarly,
just as when you are writing \LaTeX, you can break lines and end up
with just a single space, which also helps you to arrange things
neatly.

As figure \ref{basic:source:eg} shows one
can see that they are mostly self-explanatory. It's important to
appreciate that they are intended as data sources: the raw material
from which \biblatex\ will construct citations, not the citations
themselves. So generally you should enter as much information as you
have, because while \biblatex\ can ignore (or alter) information it
has, it cannot invent information it doesn't have. For example, if
entering a name you should, if you can, give the full name. Perhaps
your currently-preferred citation system uses initials only. That
doesn't matter, because \biblatex\ can extract the initials if it
knows the full name; but it can never guess the full name from
initials, and if you ever decided to use a system which needed the
full name, you would be lost. Similarly, you shouldn't attempt any
sort of formatting in these fields: they are just data, and if you
want names in small capitals or titles in italics you deal with that
by giving instructions when the |.bib| file is \emph{used}, not within
it.

\section{Field types}

\index{database!fields}
When you read the \biblatex\ manual,\intref{\emph{Manual} \S~2.2.1}
you will see that it distinguishes between five main types of field:
name fields, list fields, verbatim fields, date fields and other
fields, with various others for good measure. This is not actually a
very helpful distinction from the user's point of view, and I'd
suggest that you think of fields in this way:
\begin{itemize}
\item \emph{Names} These \emph{are} special, and worth thinking about
  separately. Typical name fields are \texttt{author} and
  \texttt{editor} fields.
\item \emph{Dates} Again, the \emph{are} special, and worth
  considering specially. Typical name fields are \texttt{date} and
  \texttt{urldate}.
\item \emph{Other bibliographical fields}, like \texttt{title},
  \texttt{journaltitle}, \texttt{url} or \texttt{isbn}. These are all
  fields that will contain material which might (depending on your
  style) find its way into your printed bibliography.
\item \emph{Meta-data} fields, like \texttt{keywords} and
  \texttt{options}, in which you provide information about your source
  which may be used to help format it, but is not expected to find its
  way directly into print.
\end{itemize} 

\subsection{Names}

\indexstart{database!names}\index{names!database, in|see{database}}
Names turn out to be rather complex things. Suppose I have the
advantage of being called Quentin William Ffortescue von
Rumplestiltskin, Jr. I probably care about all the parts of this name;
but bibliographical software is particularly interested in the last
name which will be used for sorting (Rumplestiltskin) and the first
names which will, if necessary, be used for sorting (Quentin William
Ffortescue), and from which the initials (Q.\,W.\,F.) will be
constructed; but it may also need to know how to print my surname
including its `von' part, and to include the `Jr.' after my name.

All this can be done. It can even (usually) be inferred. It
\emph{usually} doesn't matter whether a name is entered as
\verb|John Smith| or \verb|Smith, John|. If in doubt, the following
rules will keep you straight. (Not all of them is strictly necessary;
but they are quite simple.)

\begin{enumerate}
\item Always enter initials with full stops. If it sees
  \verb|A. Author|, or \verb|Author, A.|,
  \biblatex\footnote{\package{Biber}, actually.} knows that \verb|A|
  is an initial. If it sees \verb|A Smith| it might think that `A' is
  a (very short) name. Since this \emph{can} matter, usually when you
  least expect it, always include the dot. This doesn't mean that
  \biblatex\ will necessarily \emph{print} any dot when it outputs
  the bibliography. That is controlled by the bibliography style, so
  you can safely include the dots in your \verb|.bib| file and lose
  them later.
\item Always put any \emph{von} (or equivalent, such as \emph{van} or
  \emph{de la}) \emph{before} the last name, as shown above.
\item For names \emph{without Jr.\ or numbers} use \emph{either}
  `ordinary' name order \emph{or} \angled{last name}, \angled{first
    name or initials}. So \verb|von Author, A.| or
  \verb|A. von Author|. I highly recommend consistency in this. And in
  fact I strongly recommend that you use the Last, First format, which
  avoids mistakes with \ldots
\item If there is a `junior part' (like Jr.\ or III), you \emph{must}
  use the `backwards' form:\begin{center}von Rumplestiltskin, Jr.,
    Quentin William Ffortescue\end{center}
\item If what looks like two words should actually be treated as one,
  then enclose them in braces. For instance, if a last name is
  double-barrelled but not hyphenated, it needs to go in braces. The
  hyphenated \verb|Homburg-Williams| will be fine, but we don't want
  Mr.~J.\ Homburg Williams to find himself as J.\ H.~Williams, so make
  it \verb|{Homburg Williams}, J.|\index{name, double-barrelled}
\item Similarly some names are not made to be broken at all, notably
  institutions, which sometimes claim authorship or something close to
  it. If the University of Oxford `writes' a report, \biblatex\ will
  be inclined to think of it as `of Oxford, U'. Avoid this by
  enclosing the whole name in (extra) braces:\intref{See
    p~\pageref{sorting:sortname} for advice on how to make sure such
    names are properly sorted.}\index{institutions!as authors}\index{author!institutional}
\begin{center}
\verb|author = {{University of Oxford}}|
\end{center}
\item For accented characters, either use unicode or enclose the
  accented letters in braces: \verb|{Victor, Paul {\'E}mile}|. Of
  these techniques, the use of unicode accented characters---which
  \package{Biber} can handle, unlike \bibtex---is much to be
  preferred. If you do have to use \TeX\ accents, enclose the
  character in question (but only that character) in braces.\index{accented letters}
\end{enumerate} 

Often academic works have multiple authors or editors. In that case,
enter all the names separated by `and' (\emph{not} commas).
\begin{center}
\ttfamily
Ardman, A. \textbf{and} Baptiste, B. \textbf{and} Carruthers, C.
\end{center}

You can also put \verb|and others| yourself. But be careful. How many
authors' names get printed is heavily style-dependent.\intref{See
  p~\pageref{recipes:maxnames} for more information on how many names
  will be printed.} Some styles only want one or two authors before
printing `et al'; others may want four or five, or always print every
name. It's easy for \biblatex\ to truncate names if it has more than
it needs, but impossible for it to guess who wrote a paper if it
hasn't been told, so as always, enter all the information you have
available.
\indexstop{database!names, in}

\subsection{Dates}

\index{database!dates, in}\index{date!database, in|see{database}}
Enter dates in the form |YYYY-MM-DD|. So the 28th day in
of February 2012 is |2012-02-28|. In general, most \biblatex\ styles
will work with less-than-complete dates, and of course in many cases
you won't know the full date (for instance, the date when a book was
published): so |2012| is a valid date, as is |2012-02| (February
2012), as is |2012-02-28|. (Of course, that's not how dates will be
\emph{printed}, unless you want them to be: it's just how they are
entered.)

Occasionally you need to enter a range of dates. In that case, use the
a forward slash to separate the range: February to March 2012 is
|2012-02/2012-03|, and so on.

\subsection{Data fields}

Data fields other than name fields do not normally present such
difficulties, but there are a few points to bear in mind.

Some such fields (for instance the |publisher| and |location| fields)
are in fact \emph{lists}: in such cases, if you need more than one
entity mentioned, use \emph{and} between them, as with names.

Data fields may be important for sorting. For example, although in
most cases the primary sorting is done using the |author| or |editor|
field, the |title| field may sometimes come into play. This can pose
additional challenges, because it is possible, especially if the field
includes some \LaTeX\ command, to bamboozle the sorting algorithm. In
general, enclose \LaTeX\ commands (other than accented letters) in
\emph{two} sets of braces, and use unicode to deal with accented
letters wherever possible. So, for instance, we would
enter:\intref{See p~\pageref{sorting:sorttitle} for more information
  about how to control the way titles are sorted.} As with names,
accents and diacritics are probably best handled with unicode.
\index{accented letters}
\begin{center}
|title = {The {{\LaTeX}} Companion}|

or

|title = {{\`A} l'ombre des jeune filles en fleurs}|

or (better)

|title = {Du côté de chez Swann}|
\end{center}

\index{title, capitalization}\index{capitalization!database, in|see{database}}\index{database!capitalization}
Data fields may be modified. For instance, some style files capitalize
only the first word of a title, so that an entry of
\begin{center}
|The German Law of Obligations|
\end{center}
would become
\begin{center}
The german law of obligations
\end{center}
Where you know that a particular letter must never be changed, you should `protect' it with braces:
\begin{center}
\texttt{The \{German\}\footnote{You will sometimes see this done as \texttt{\{G\}erman}, but the method given in the text is better, because it ensures proper kerning.} Law of Obligations}
\end{center}
Otherwise it's best to enter titles, at least if you write in English,
with `significant words capitalised', since \biblatex\ can easily
remove all but the first capital, but cannot be relied on to carry out
more sophisticated changes.\footnote{In other words, if asked to
  capitalise the first letters of \texttt{The German law of
    obligations} it would likely end up with \emph{The German Law Of
    Obligations}, which is not correct.} As noted above, some styles
put titles into `sentence case'---with only the first word
capitalised. If you don't want that, the right thing to do is not to
attempt to outfox the style by manually protecting every capital with
braces, because that makes your database file useless if you ever do
want such changes. The right thing to do is to choose a different
style, or modify it, to preserve your capitalization.

\subsection{Metadata}

There is a wide variety of metadata that you may, for various reasons,
include in a file, including options to guide \biblatex\ in formatting
citations, and keywords and options to help structure biographies. In
general there is no particular difficulty with this sort of
information. It is just plain text, still included in braces, and
(sometimes) a comma-separated list.

Of these various fields, three stand out for special mention at this
point.

\index{database!languages}\index{language!specification in database|see{database}}
\paragraph{Specifying hyphenation patterns}Different languages are
hyphenated in different ways.\intref{Chapter~\ref{ch:languages}}
If you are writing a document in English, but cite a book whose title
is in French, \LaTeX\ will have trouble hyphenating it correctly. You
can specify the language in the |langid| field. Then, \emph{provided
  you set the package option} |autolang=hyphen|, the entry will be
hyphenated using the appropriate language.

\paragraph{Keywords} The |keywords| field enables you to provide one
or more keywords (separated by commas). These can be useful if you
want to separate out different kinds of source. For instance, if you
wanted to produce different bibliographies by topic\intref{Chapter~\ref{ch:subdivisions}} for an annotated
bibliography, you could assign sources to particular topics using
keywords.

Other meta-data fields include |options|, |sorttitle|, |labeltitle|,
|indextitle| and |indexsorttitle|. These are all used for specialised
purposes to enable you to over-ride defaults in the way that
\biblatex\ would construct citations, sort the bibliography, or index
an entry. Some of these are discussed as appropriate later in this
book,\intref{Chapter~\ref{ch:sorting}} where their use is explained.

\paragraph{Sub-types} Some bibliography styles want to handle, say,
an article in a newspaper differently from an article in a journal. For this
purpose there is an \verb|entrysubtype| field. This can also be useful when
preparing subdivided bibliographies, where it can be used to select which
works get printed in which section.

\section{Common entry types}

This section is going to take a look at four of the commonly used
types of entry: books, articles, and the |incollection| and
|inbook| types. This is not intended to be a complete formal
description of every possibility. For that you can consult the
documentation.\intref{\emph{Manual}~\S~2.1.} It is supposed to give
practical guidance, especially for neophytes. Most of what is said
should seem like common sense for anyone who has ever written an
academic bibliography.

\subsection{Books}

\index{database!book type}\index{book!database entry|see{database}}
The bare minimum for any book is some sort of title. \emph{The Bible}
is a book, timeless as it is and un-named as its Author customarily
remains. Most books, however, have more information, and most
bibliographical styles require more information to be provided, if it
is available. Typically aim to record the following:

\paragraph{The author(s) name(s)} in the |author| field. If there is
an |editor| but no |author| leave the field blank.

\paragraph{The editor(s) name(s)} in the |editor| field. If there is
no editor, leave the field blank. If there is both an author and an
editor, include the editor's name as well as the author's.

\paragraph{The title} in the |title| field. Mostly this is easy, but
some works exist to annoy us. Dr Edwin Poppie-Cocke has just completed
`Grammatical Solecisms: Dangling Participles and Misplaced Modifiers`,
which is volume 234 of his treatise on `Elementary Stylistics'. What,
exactly, is its title? For our purposes,\footnote{This is a
  simplification: there is also a \texttt{titleaddon} field that can
  be used to print something after the title in a different font. And
  \texttt{maintitle} can also have its own \texttt{mainsubtitle} and
  \texttt{maintitleaddon} too! Happily, these are rarely needed.} we
divide it into three:
\begin{itemize}
\item The |maintitle|, which is the title of the multi-volume
  treatise.
\item The |title|, which is the particular title of the book.
\item The |subtitle|.
\end{itemize}
We therefore enter:
\begin{Verbatim}
@book{poppycocke:2013,
  author    = {Poppie-Cocke, Edwin},
  maintitle = {Elementary Stylistics},
  title     = {Grammatical Solecisims},
  subtitle  = {Dangling Participles and Misplaced Modifiers},
  volume    = 234,
}
\end{Verbatim}
It is better to divide title and sub-title in this way because,
although it would work if we didn't, some citation styles use the
title when referring back to the work on second and subsequent
citations, and the title alone, without subtitle, is usually
sufficient for this purpose, and less of a mouthful.

Where you have a multiple volume work, you have two choices. (1) You
can have a single entry in your database for the work in question with
all its volumes. This would normally be appropriate where you are
dealing with one work, published at one time, which happened to be
subdivided. In that case, enter the number of volumes in the |volumes|
field -- and remember to identify the particular volume you are
referring to when you cite the work.\footnote{There is also a
  \texttt{mvbook} entry-type, which is specifically designed for
  multiple-volume works. It's probably better, though not compulsory,
  to use it for such works: see the \biblatex\ \emph{Manual}
  \S~2.1.1.} (2) You may have separate entries for each volume, where
each volume is effectively a separate work. That is normally
appropriate where the volumes are published at different times. In
that case, put the volume in the |volume| field. Some works have
`parts' instead of, or as well as, volumes: in that case put the part
in the |part| field.

Some self-contained works are published as part of a series. If you
want to record that information, put the series in the |series| field.

\paragraph{The edition} in the |edition| field. This is usually
omitted for the first edition if only one edition was published. If
this is a number, just enter the cardinal number: |{2}|, not |second|
or |2nd| --- the right suffix will be added by \biblatex. If it's
something like `revised' or `corrected', type that.

\paragraph{Publication information} 

In the |date| field. The year will usually suffice. The older \bibtex\
style was to enter the date in the |year| field. That will work fine,
but it's probably better to use |date|,\footnote{Unless you need your
  \texttt{.bib} file to be usable in \bibtex\, in which case stick
  with year.} which is `correct'. In some cases you will want to
record two dates: the date of original publication, and the date of
the particular edition you are referring to. In that case, put the
date of the particular edition in the |date| field, and the date of
original publication in the |origdate| field.

The place of publication should be specified in the |location|
field. You can also use a field called |address|, which is provided
for backward compatibility purposes (it was the field used in the
`original' \bibtex.)

The publisher's name goes in the |publisher| field. This is a `list
field', so that you can have more than one publisher, in which case
you enter them as
\begin{center}
\ttfamily
publisher = \{Publisher A \textbf{and} Publisher B \textbf{and} Publisher C\},
\end{center}

In some disciplines it is not customary to print the publisher's name,
or the place of publication, and you may think that's pretty
sensible since in most cases they are of no interest. Even so, unless
you are very certain that you will never want this information, it's
better to fill it in. It's always fairly straightforward to tell
\biblatex\ not to use information that it has available --- but
impossible to tell it to create information you haven't provided. So,
if you think of the future, it's best to include both.

\newthought{Those fields cover the basic bibliographical data
  applicable to most books} but there are other pieces of information
that you may sometimes need or want to record.

\paragraph{Short titles and shorthands} If a title is being printed in
a bibliography, it makes sense to print it in its entirety, even if it
is very long. But some citation schemes (such as those that refer to
works by author and title) make repeated use of titles, and if the
title is very long such repeated references can become tiresome. It
may make sense, in such cases, to abbreviate the title of the work on
second and subsequent citation, so that---say---P.\ Kempees, \emph{A
  Systematic Guide to the Case-Law of the European Court of Human
  Rights 1960--1994} can become `Kempees, \emph{Systematic Guide}'. In
such cases, you can specify a |shorttitle|.

\indexstart{shorthand}\label{shorthands}
The \emph{shorthand} is a related, but subtly different idea. In some
works (for instance, commentaries or monographs devoted to the study
of a small number of books) or there may be such frequent
reference to a particular source that it makes sense to have an
abbreviation for it. You can define a special citation form, called a
`shorthand', which will be used to cite the work in question. The
package will also keep track of shorthands and you can print a list of
them, similarly to a bibliography, using the command
|\printshorthands| where you want the list to be produced.\intref{See
  the \emph{Manual} \S~3.6.3.} A shorthand is included in the
|shorthand| field.

Shorthands may be summarized in a list of shorthands. They need not,
therefore, be self-explanatory; the reader will encounter them
frequently, and (if they are not standard in the field) can be
expected to look them up. They should be fairly rare --- reserved for
special cases. Short titles on the other hand will not appear in any
separate list, and you should be careful to make sure that they will
be immediately identifiable to any reader from the bibliography, and
reserve them for cases where the title is long. In a specialist work
on Wittgenstein it may be sensible to define \emph{PI} as an
abbreviation for \emph{Philosophical Investigations}, but it wouldn't
make sense to define that as a short title, or indeed to define any
short title for general use. And in the example given above,
`Systematic Guide' makes a good short title, but `SGCL60--94' would be
quite confusing. It is usually better not to define any short title or
shorthand until you are sure that you need them.
\indexstop{shorthand}

\paragraph{Translators, adapters, revisers.} It is usual to have an
author, and common to have an editor as well. It's not uncommon to
have other people who should be credited: translators, commentators
and the like. There are dedicated fields for |translator|, |annotator|
or |commentator|, into which you can put the name(s). If you have some
oddity, you can make use of upt to two fields called |editora| and
|editorb|. These are `generic' fields, into which you can put
names. If you do that, you also need to fill in the |editoratype| (or
|editorbtype| ...) fields, with the `role' of the person. \biblatex\
recognises as possible roles: `editor', `compiler', `founder',
`reviser' and `collaborator', and the enigmatic figures of `redactor'
and `continuator' too. You can add others as well, though it's not a
totally straightforward task.\intref{See \emph{Manual} \S\S~2.3.6, 3.8
  and 4.9.1.}

The result, as the following example (whose output is shown in figure
\ref{redactors}) shows, can in theory include a very large number of
different roles, where that is needed.
\begin{Verbatim}
@book{team,
  author      = {Author, Arnold},
  editor      = {Editor, Edwin},
  translator  = {Translator, Theodore},
  commentator = {Commentator, Cuthbert},
  editora     = {Redaktor, Richard},
  editoratype = {redactor},
  editorb     = {Collaborator, Christopher},
  editorbtype = {collaborator},
  title       = {Team Players},
  date        = {2013},
  publisher   = {Pubco},
  address     = {Oxbridge},
}
\end{Verbatim}

\begin{figure}
\fbox{\includegraphics{./examples/database-eg1.pdf}}
\caption{Bibliographical entry showing author, editor, commentator, translator, redactor and collaborator\label{redactors}}
\end{figure}

\index{URL!database, in|see{database}}\index{database!URL}\index{database!electronic publication}
\paragraph{Electronic publication} Works which were, in the past,
exclusively printed are now often published electronically, either as
well as or instead of paper publication. The \biblatex\ package tries
to reflect that.

One possibility is that the work is available on the internet, at a
\URL. In that case, you can specify a \URL\ in the |url| field. Many
bibliographic schemes require that the \emph{date} on which that \URL\
was last checked is also given, and that date should therefore be
included in the |urldate| field.

\index{arXiv}\index{JSTOR@\textsc{jstor}}
A second possibility is that the work is available in a specialised
electronic repository, such as arXiv or \textsc{jstor}. If that is the case,
you can make use of the |eprint|, |eprinttype| and |eprintclass|
fields to provide a reference for the work. \intref{See
  \emph{Manual}~\S~3.11.7.} Not every bibliographic style will use
these details (and they can always be `turned off').\footnote{by
  setting the option \texttt{eprint = false} when loading \biblatex.}

Finally, you can if you wish, provide a Digital Object Identifier
\smallcaps{doi}, which may provide a more permanent record of an
electronic source than a \URL, since \smallcaps{doi}s do not
change.\sidenote{\url{http:\\www.doi.org}. Again this feature can be
  turned off by setting \texttt{doi = false}.}

\index{ISBN!database, in|see{database}}\index{database!ISBN}
\paragraph{ISBNs} If you think it is ever likely to be used, you can
included a book's \smallcaps{isbn} (International Standard Book
Number) in the |isbn| field. As with \smallcaps{doi}s, not every style
will print \smallcaps{isbn}s (and they can always be turned
off).\footnote{by setting the option \texttt{isbn = false} when loading
  \biblatex.}

\paragraph{Other information} The \biblatex\ package allows quite a
wide range of other information to be included in a |.bib| file,
though not all of it will be used in all styles. For instance, it is
possible to include information about the original language of a book,
its original title, the title of a reprint and so forth. Since most of
this information is of interest only in narrow fields of unusual
cases, the reader is referred to the manual for details. Three fairly
common fields are, however, worth noting:
\begin{itemize}
\item |pubstate| is used to provide information about the publication
  state of a work that has not yet been `properly' published. Standard
  styles should recognise (in decreasing ratio of hope to expectation)
  |inpreparation|, |submitted|, |forthcoming|, |inpress| and
  |prepublished| as valid options here, and print appropriate
  indications.
\item |note| and |addendum| may be used to provide necessary
  bibliographical information, in a free form, which would otherwise
  not have a `home', such as `reprinted with corrections from the 1724
  edition'. The difference is that |note| will usually get printed
  somewhere in the middle of an entry, while |addendum| gets printed
  at the end (though the precise position depends on the particular
  style). So
  \begin{Verbatim}
@book{generic,
  author   = {Author, Albert},
  ...
  note     = {With a note},
  addendum = {And an addendum},
}
\end{Verbatim}
produces something like figure \ref{addendum}.

\begin{figure}\fbox{\includegraphics{./examples/database-eg2.pdf}}
\caption{Note and addendum\label{addendum}}
\end{figure}
\item |annotation| may be used to provide a lengthy annotation, for
  instance for use in annotated bibliographies.
\end{itemize}
\indexstop{database!book type}

\subsection{Articles}

\indexstart{database!article type}\index{article!database entry|see{database}}
The article is the next basic form. Indeed, for most academic work it
is probably the most common. It is entered into the database using the
|article| entry type.

In general an article (as opposed to its reference) has only two
significant parts: the author(s) and title. Those are formatted just
as for books.\footnote{Except that \texttt{maintitle} is not used. The
  \texttt{subtitle} field could, however, be used.}
\begin{Verbatim}
@article{mueck,
  author  = {Mueck, A. O. and
             Seeger, H. and
             Wallwiener, D.},
  title   = {Comparison of the Proliferative Effects
             of Estradiol and Conjugated Equine
             Estrogens on Human Breast Cancer Cells
             and Impact of Continuous Combined
             Progestogen Addition},
}
\end{Verbatim}

That, as figure \ref{mueck} shows, gets us only part of the way: we
have the \emph{article}'s title and authors, but we still need to
provide the details of the journal in which it is published.

\begin{figure}
\fbox{\includegraphics{./examples/database-eg3.pdf}}
\caption{Article with author and title, but reference missing.\label{mueck}}
\end{figure}

The publication details are entered using fields for:
\begin{itemize}
\item |journaltitle| for the name of the journal.\footnote{For
    backwards compatibility reasons, \texttt{journal} will work too,
    but prefer \texttt{journaltitle} unless you need \bibtex\
    compatibility.} (There is also a |journalsubtitle| field, though
  it is very seldom required.)
\item |series| for the journal's series (if any).
\item |volume| for the journal volume (if any).
\item |number| for the journal number (if any).
\item |issue| for the journal's issue (if any) (such as `Spring' --
  there are also |issuetitle| and |issuesubtitle| fields, which can be
  used where a particular issue has a special title which ought to be
  cited). Use |number| strictly for numerical subdivisions and |issue|
  for anything else. No matter that the journal you are dealing with
  call this its `Christmas number': you will call it the |issue = {Christmas}|.
  And no matter the journal says this is volume 5, \emph{issue}
  2: you will call it |number = 2|.
\item |pages| for the pages occupied by the article in question.
\item |date| for the date of the publication.
\item |year| available only for backward compatibility with
  \bibtex. Unless you need that, use the |date| field.
\item |month| for the journal's month, if that matters for
  citation. This should be either an integer (1 = January, and so
  forth) \emph{or} a three letter code which should be entered
  \emph{without} braces: |jan| not |{jan}|. It is only there for
  backward compatibility with \bibtex. Unless you need that, you can just include the month as part of the |date|.

\end{itemize}

So we can complete our partial citation:
\begin{Verbatim}
@article{mueck,
  ...
  journaltitle = {Climacteric},
  volume       = {6},
  pages        = {221--227},
  date         = {2003},
}
\end{Verbatim}

And producing the result along the lines shown in figure \ref{mueck2}.

\begin{figure}
  \fbox{\includegraphics{./examples/database-eg4.pdf}}
  \caption{Article\label{mueck2}}
\end{figure} 

\paragraph{Other information} Information such as \smallcaps{doi},
\smallcaps{issn} (the equivalent of \smallcaps{isbn} for journals) and
\smallcaps{annotations} is the same as for articles.
\indexstop{database!article type}

\subsection{Collections and Parts of Books}

\indexstart{database!incollection type}\index{database!inbook entry|see{database}}
\index{collection!article in|see{database, incollection}}
Papers are often published in books --- collected papers,
\emph{festschriften}, and collections devoted to a particular topic.

For such works, \biblatex\ provides two entry types: |inbook| and
|incollection|.\label{inbook:vs:incollection} The boundaries between
them are slightly hazy. In theory a |book| is a work which has, as a
work, one or more `authors' who take collective responsibility for it,
and |inbook| is the entry-type corresponding to a discrete and
self-contained part of that, whereas a |collection| is an assembly of
disparate contributions which will have an editor or editors, but no
author(s) as such, and |incollection| corresponds to a discrete part
of that. In practice --- as it lies on the shelf --- a |collection| is
a book. So the key difference is whether the `unifying feature' of the
work is its author (|inbook|) or its editors (|incollection|). But
almost everything said about the |book| type above can be assumed to
apply to the |collection| type, and everything said here about
|inbook| can be assumed to apply to |incollection| as well.

In practical terms, for both |inbook| and |incollection| types you
have two choices:
\begin{itemize}
\item You can include all the information in a single entry. In that
  case |author| and |title| are assumed to refer to the author of the
  discrete unit that is being cited, while |bookauthor|, |editor|, and
  |booktitle| refer to the larger work. You add either |pages| or
  |chapter| to indicate the part of the book occupied by the discrete
  unit.
\item You can separately specify the information for the larger work
  (as |book| or |collection|, using all the fields given above). You
  then specify the |author| and |title| of the sub-unit, together with
  |pages| or |chapter|, and use the |crossref| field to link the
  individual entry to the larger work.\index{crossref}\index{database!crossref}
\end{itemize}

So, for instance, using the first method we might have:
\begin{Verbatim}
@inbook{sedley:skulls,
  title        = {Skulls and Crossbones},
  author       = {Sedley, Stephen},
  bookauthor   = {Sedley, Stephen},
  booktitle    = {Ashes and Sparks},
  booksubtitle = {Essays on Law and Justice},
  date         = {2011},
  publisher    = {Cambridge UP},
  location     = {Cambridge},
  pages        = {131--138},
}
\end{Verbatim}

Alternatively, you could set things up as follows:
\begin{Verbatim}
@book{sedley:ashes,
  title        = {Ashes and Sparks},
  subtitle     = {Essays on Law and Justice},
  author       = {Sedley, Stephen},
  date         = {2011},
  publisher    = {Cambridge UP},
  location     = {Cambridge},
}
@inbook{sedley:skulls,
  title        = {Skulls and Crossbones},
  author       = {Sedley, Stephen},
  pages        = {131--138},
  crossref     = {sedley:ashes},
}
\end{Verbatim}

A citation of |\cite{sedley:skulls}| will produce exactly the same
output in either case. My fairly strong advice is to prefer the second
method, because it is more flexible -- it enables citation of the
whole book separately, and it enables you easily to add additional
chapters or papers as units of their own without difficulty. It also
means that, once a certain threshold is reached, the entire book will
be added to the bibliography, which is often a convenience to
readers. (By default, the `parent' work is added to the bibliography
if two `children' are cited. You can change this number by giving a
value to |mincrossrefs| in the options to \biblatex. So to set it to
include the parent only when four `children' are cited, you would
include |mincrossrefs = 4| when loading \biblatex.)
\indexstop{database!incollection type}

\section{A summary by type of literature}

The preceding section of the chapter has surveyed the |book|,
|article|, |inbook| and |incollection| types, and indirectly
|collection| too, in some detail (though without exploring every tiny
corner, for which the manual is invaluable). There are many other
types -- some supported by the standard styles, and some used by
specialist styles (for instance, styles for legal citation or which
include support for citing sound recordings). Rather than work
relentlessly through them, table \ref{entry:summary} suggests what
type you might use to cite a number of different types of
literature. Where the entry type is marked by an asterisk, that means
that it is not supported in the standard styles, and you should
probably be looking for a specialised style that does support it.

\begin{table*}
\begin{tabularx}{\linewidth}{llX}
\toprule
\textsf{literature}     & \textsf{suggested entry type} &                                              \\
\midrule
article (journal)       & \texttt{article}                                                             \\
article (in collection) & \texttt{incollection} or \texttt{inbook}                                     \\
article (in newspaper)  & \texttt{article}              & (some styles offer special formatting)       \\
article (unpublished)   & \texttt{article}              & use pubstate                                 \\
book                    & book                                                                         \\
letter (unpublished)    & \texttt{misc}                                                                \\
letter (published)      & \texttt{article}                                                             \\
manual                  & \texttt{report}                                                              \\
online item             & \texttt{online}                                                              \\
thesis                  & \texttt{thesis}               & set the \texttt{type} for the type of thesis \\
\bottomrule
\end{tabularx}
\caption{Sources and entry types\label{entry:summary}}
\end{table*}

\section{Replacing text}

\indexstart{database!abbreviations}\index{abbreviations!in database|see{database}}
One curse of bibliography generation is the abbreviation. Suppose you
have a journal called the `New York University Legal Studies
Quarterly'. Sometimes you will be told not to abbreviate it at
all. Sometimes you will be told to abbreviate it to `NY University
Legal Studies Q'; sometimes to `NYU Legal Studies Q'. And so
forth. (Slightly similar problems can apply with publishers: is it
`Oxford Univ.\ Press' or `OUP' or `Oxford University Press' or `Oxford
UP'?)

If you work in a field where this is not a problem---where standard
abbreviations are absolutely set in stone---then you are in
clover. In other fields, some element of flexibility is needed. There
are two ways you can achieve this, and one way that you can make your
life as difficult as possible.

If you want to make your life difficult, be sure to enter articles in
a radically inconsistent way, using different forms of the journal
name or publisher.

The two ways you can make your life easy are as follows.

\index{database!strings@database!@string}
First, you can use \emph{strings} in the |.bib| file. To do this,
define a string at the top of the file as follows
\begin{Verbatim}
@string{NYULSQ = "NY University Legal Studies Q"}
\end{Verbatim}
and then, in the |journaltitle| field, simply put |NYULSQ| (without braces)
\begin{Verbatim}
@article{...
  journaltitle = NYULSQ,
  ...
}
\end{Verbatim}
the string definition will be substituted for the abbreviation before
processing. That means that if you want to change all the entries to
read `NYU Legal Studies Q', you just have to change one line (in the
|string| definition.

The alternative is to be, at least, completely consistent. Then you
can use the power of \package{Biber} to search for and replace strings
in your file. For instance, suppose that throughout your file you had
entered the above-mentioned (fictitious) journal as |NYU Legal StudiesQ|,
but you are now writing a paper in which the proper abbreviation
is `NYU Leg Studs Q'. The following lines, placed in the preamble to
your file, will accomplish the necessary change:\label{datamap}

\begin{Verbatim}
\DeclareSourcemap{
  \maps[datatype=bibtex]{                % for .bib files
    \map[overwrite=true]{                % (over-writing if need be)
      \step[fieldsource=journaltitle,    % if the journaltitle field
            match={NYU Legal Studies Q}, % reads "NYU Legal Studies Q"
            replace={NYU Leg Studs Q}]   % replace it with "NYU Leg Studs Q"
    }
  }
}
\end{Verbatim}

\index{sourcemap directive}
A sourcemap directive is a powerful thing.\intref{\emph{Manual}
  \S~4.5.2.} It tells \package{Biber} to make changes to the input
file data \emph{before} outputting them for \LaTeX\ to use. In this
case, it tells it to apply the changes to any |.bib|
file.\footnote{Don't suppose that \texttt{datatype = bibtex} means that
  the \bibtex\ \emph{program} can do this. It's a \package{Biber}
  technique only!}

 The changes consist of a filtering step where it examines the
|journaltitle| field in any source and, if that field matches\linebreak 
|NYU Legal Studies Q|, \package{Biber} will replace it with 
|NYU Leg Studs Q|. This does not actually change your 
|.bib| \emph{file}; but it alters the data as it passes from that file into
\biblatex\ for formatting.

As you can see, this trick will only work if you have been
\emph{consistent} in the way you have named journals and
publishers. But so long as you are consistent, it's a powerful
technique.
\indexstop{database!abbreviations}


%%% Local Variables:
%%% coding: utf-8
%%% mode: LaTeX
%%% TeX-master: "biblatex-tutorial"
%%% End:
